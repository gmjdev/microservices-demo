<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true" debug="false">

	<include resource="org/springframework/boot/logging/logback/defaults.xml" />
	<include resource="org/springframework/boot/logging/logback/console-appender.xml" />

	<springProperty scope="" name="LEVEL" source="level" defaultValue="info" />
	<springProperty scope="context" name="springAppName" source="spring.application.name" defaultValue="springAppName_UNDEFINED" />
	<springProperty scope="context" name="springLogPath" source="logging.file.path" defaultValue="springLogPath_UNDEFINED" />

	<appender name="MYFILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<encoder>
			<pattern>${FILE_LOG_PATTERN}</pattern>
			<charset>${FILE_LOG_CHARSET}</charset>
		</encoder>
		<file>${springLogPath:-${LOG_PATH}}/${springAppName}/${springAppName}.log</file>
		<rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
			<fileNamePattern>${springLogPath:-${LOG_PATH}}/${springAppName}/${springAppName}.%d{yyyy-MM-dd}.%i.gz}</fileNamePattern>
			<cleanHistoryOnStart>${LOGBACK_ROLLINGPOLICY_CLEAN_HISTORY_ON_START:-false}</cleanHistoryOnStart>
			<maxFileSize>${LOGBACK_ROLLINGPOLICY_MAX_FILE_SIZE:-10MB}</maxFileSize>
			<totalSizeCap>${LOGBACK_ROLLINGPOLICY_TOTAL_SIZE_CAP:-0}</totalSizeCap>
			<maxHistory>${LOGBACK_ROLLINGPOLICY_MAX_HISTORY:-7}</maxHistory>
		</rollingPolicy>
	</appender>

	<root level="${LEVEL}">
		<appender-ref ref="CONSOLE" />
		<appender-ref ref="MYFILE" />
	</root>
</configuration>
     